# QueueLib | [MAIN] | [NAMESPACES] | [METRICS] | [BACK]  

## Documentation for Function block FIFO_S_Time  

```pascal
//Standard FIFO buffer. Allows Enqueing if buffer is not full. After being filled, it has to be emptied completely before further equeueing  
INTERFACE
    VAR_INPUT CONSTANT
        Buffer : POINTER TO TIME := 0; (*Externally allocated buffer. Must be in format ARRAY[0..N]. ! Block doesn't check for Null pointer*)
        Size : UINT := 0; (*Size/Max elements of the buffer*)
    END_VAR
    VAR_OUTPUT 
        NrElements : UINT := 0; (*Number of elements in the FIFO*)
    END_VAR
    VAR 
        vHead : INT := -1; (*Position of the head*)
        vTail : INT := -1; (*Position of the tail*)
    END_VAR
END_INTERFACE
FUNCTION_BLOCK FIFO_S_Time:
    (***Developed entirely with methods***)
END_FUNCTION_BLOCK
METHOD isEmpty:
    INTERFACE
    END_INTERFACE
    isEmpty := vHead = -1 OR vHead > vTail;
    RETURN;
END_METHOD
METHOD Dequeue:
    INTERFACE
        VAR_OUTPUT 
            Value : TIME; (*Value to add to queue*)
        END_VAR
    END_INTERFACE
    IF isEmpty() THEN RETURN; END_IF

    Value       := Buffer[vHead];
    vHead       := vHead + 1;

    NrElements  := NrElements -1;

    IF vHead > vTail THEN
        (*Reset*)
        vHead := -1;
        vTail := -1;
        NrElements := 0;
    END_IF

    Dequeue := TRUE;
    RETURN;
END_METHOD
METHOD Enqueue:
    INTERFACE
        VAR_INPUT 
            Value : TIME; (*Value to add to queue*)
        END_VAR
    END_INTERFACE
    IF isFull() THEN RETURN; END_IF

    IF isEmpty() THEN
        vHead := 0;
    END_IF

    vTail           := vTail + 1;
    Buffer[vTail]   := Value;

    NrElements      := NrElements + 1;

    Enqueue := TRUE;
    RETURN;

END_METHOD
METHOD isFull:
    INTERFACE
    END_INTERFACE
    isFull := vTail = Size - 1;
    RETURN;
END_METHOD
METHOD Peek:
    INTERFACE
        VAR_OUTPUT 
            Value : TIME; (*Return value*)
        END_VAR
    END_INTERFACE
    IF isEmpty() THEN RETURN; END_IF

    Peek := vHead;
    Value:= Buffer[Peek];

    RETURN;
END_METHOD
```

## Metrics  

- VAR_INPUT : 2
- VAR_OUTPUT : 1
- VAR : 2

| Actions | Methods | Lines of code | Lines of comments | Lines in total | Maintainable size |
| ------- | ------- | ------------- | ----------------- | -------------- | ----------------- |
| 0 | 5 | 28 |2 |40 | 36 |

---
Autogenerated with [ia_tools](https://github.com/tkucic/ia_tools)  

[MAIN]: ../../../../index_st.md
[NAMESPACES]: ../../nsList_st.md
[METRICS]: ../../../metrics_st.md
[BACK]: ../nsMain_st.md
