# QueueLib | [MAIN] | [NAMESPACES] | [METRICS] | [BACK]  

## Documentation for Function block FIFO_C_16b  

```pascal
//Circular FIFO buffer of generic type that works with 16 bit values (based on WORD). Allows Enqueuing when there is a free space in front of the tail. Strings and data structures are not supported.  
INTERFACE
    VAR_INPUT CONSTANT
        Buffer : POINTER TO WORD := 0; (*Externally allocated buffer. Must be in format ARRAY[0..N]. ! Block doesn't check for Null pointer*)
        Size : UINT := 0; (*Size/Max elements of the buffer*)
    END_VAR
    VAR_OUTPUT 
        NrElements : UINT := 0; (*Number of elements in the FIFO*)
    END_VAR
    VAR 
        vHead : UINT := 0; (*Position of the head*)
        vTail : UINT := 0; (*Position of the tail*)
    END_VAR
END_INTERFACE
FUNCTION_BLOCK FIFO_C_16b:
    (***Developed entirely with methods***)
END_FUNCTION_BLOCK
METHOD Dequeue:
    INTERFACE
        VAR_OUTPUT 
            Value : WORD; (*Return value that has to be casted to correct destination type*)
        END_VAR
    END_INTERFACE
    IF isEmpty() THEN RETURN; END_IF

    Value       := Buffer[vHead];
    vHead       := (vHead + 1) MOD Size;
    NrElements  := NrElements - 1;

    Dequeue := TRUE;
    RETURN;
END_METHOD
METHOD Enqueue:
    INTERFACE
        VAR_INPUT 
            Value : WORD; (*Value to add to queue*)
        END_VAR
    END_INTERFACE
    IF isFull() THEN RETURN; END_IF

    Buffer[vTail]   := Value;
    NrElements      := NrElements + 1;
    vTail           := (vTail + 1) MOD Size;

    Enqueue := TRUE;
    RETURN;
END_METHOD
METHOD isEmpty:
    INTERFACE
    END_INTERFACE
    isEmpty := NrElements <= 0;
    RETURN;
END_METHOD
METHOD isFull:
    INTERFACE
    END_INTERFACE
    isFull := NrElements >= Size;
    RETURN;
END_METHOD
METHOD Peek:
    INTERFACE
        VAR_OUTPUT 
            Value : WORD; (*Return value that has to be casted to correct destination type*)
        END_VAR
    END_INTERFACE
    IF isEmpty() THEN RETURN; END_IF

    Peek := vHead;
    Value:= Buffer[Peek];

    RETURN;
END_METHOD
```

## Metrics  

- VAR_INPUT : 2
- VAR_OUTPUT : 1
- VAR : 2

| Actions | Methods | Lines of code | Lines of comments | Lines in total | Maintainable size |
| ------- | ------- | ------------- | ----------------- | -------------- | ----------------- |
| 0 | 5 | 20 |1 |27 | 28 |

---
Autogenerated with [ia_tools](https://github.com/tkucic/ia_tools)  

[MAIN]: ../../../../index_st.md
[NAMESPACES]: ../../nsList_st.md
[METRICS]: ../../../metrics_st.md
[BACK]: ../nsMain_st.md
